import{m as p,x as f,s,Q as h,M as a,F as V,y as g,X as S,E as w,U as C,V as U,N as k,R as c,p as q,q as b,H as I,t as n}from"./index-DWSgxYrt.js";import{A as N}from"./AppLayout-7JuOUvUe.js";import{_}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{F as B}from"./FileInputComponent-fs3tx2AC.js";const R={props:{id:{type:String,required:!0},className:{type:String,default:"mb-3 col-md-6"},label:{type:String,required:!0},type:{type:String,default:"text"},placeholder:{type:String,default:""},error:{type:String,default:""},isRequired:{type:Boolean,default:!0},step:{type:Number,default:1},min:{type:String,default:""},disabled:{type:Boolean,default:!1},modelValue:{default:""}},data(){return{model:this.modelValue}},watch:{model(l){this.$emit("update:modelValue",l)},modelValue(l){this.model=l}}},A=["for"],F={key:0},P=["type","id","placeholder","step","min","disabled","required"],L={class:"text-danger"};function M(l,o,t,m,e,i){return p(),f("div",{class:w(t.className)},[s("label",{for:t.id,class:"form-label"},[h(a(t.label)+" ",1),t.isRequired?(p(),f("sup",F,"*")):V("",!0)],8,A),g(s("input",{class:"form-control",type:t.type,id:t.id,placeholder:t.placeholder!=""?t.placeholder:t.label,"onUpdate:modelValue":o[0]||(o[0]=d=>e.model=d),step:t.step,min:t.min,disabled:t.disabled,required:t.isRequired},null,8,P),[[S,e.model]]),s("div",L,a(t.error),1)],2)}const D=_(R,[["render",M]]),E={props:{id:{type:String,required:!0},label:{type:String,required:!0},error:{type:String,default:""},isRequired:{type:Boolean,default:!0},modelValue:{default:""}},data(){return{model:this.modelValue}},watch:{model(l){this.$emit("update:modelValue",l)},modelValue(l){this.model=l}}},T={class:"mb-3 col-12"},O={class:"form-group"},j=["for"],z={key:0},H=["id","placeholder"],Q={class:"text-danger"};function W(l,o,t,m,e,i){return p(),f("div",T,[s("div",O,[s("label",{for:t.id},[h(a(t.label)+" ",1),t.isRequired?(p(),f("sup",z,"*")):V("",!0)],8,j),g(s("textarea",{class:"form-control",id:t.id,rows:"5",placeholder:t.label,"onUpdate:modelValue":o[0]||(o[0]=d=>e.model=d)},null,8,H),[[C,e.model]]),s("div",Q,a(t.error),1)])])}const X=_(E,[["render",W]]),G={components:{Link:U,AppLayout:N,InputComponent:D,TextAreaComponent:X,FileInputComponent:B},props:{product:Object},data(){return{form:k({id:"",name:"",details:"",photopath:"",stock_count:"",price:"",dosage_instructions:"",side_effects:"",precaution:"",interaction:"",storage:"",brand_names:""})}},mounted(){var l,o,t,m,e,i;this.product&&(this.form.id=this.product.id,this.form.name=this.product.name,this.form.details=this.product.details,this.form.photopath=this.product.photopath,this.form.stock_count=this.product.stock_count,this.form.price=this.product.price,this.form.dosage_instructions=((l=this.product.howyouse)==null?void 0:l.dosage_instructions)??"",this.form.side_effects=((o=this.product.howyouse)==null?void 0:o.side_effects)??"",this.form.precaution=((t=this.product.howyouse)==null?void 0:t.precaution)??"",this.form.interaction=((m=this.product.howyouse)==null?void 0:m.interaction)??"",this.form.storage=((e=this.product.howyouse)==null?void 0:e.storage)??"",this.form.brand_names=((i=this.product.howyouse)==null?void 0:i.brand_names)??"")},computed:{Image(){var l;return(l=this.product)!=null&&l.photopath?this.product.photopath.startsWith("http")?this.product.photopath:`/storage/${this.product.photopath}`:""}},methods:{submit(){const l=this.product?"product.update":"product.store";this.form.post(route(l),{onSuccess:()=>{this.form.reset(),this.$root.showMessage("success",'<span class="text-success">Success</span><br/>',`Product ${this.product?"updated":"created"} successfully!`)},onError:()=>{this.$root.showMessage("error",'<span class="text-danger">Error</span><br>',"Something went wrong!")}})}}},J={class:"row"},K={class:"col-md-12"},Y={class:"card mb-4"},Z={class:"card-header pb-0"},$=s("p",null,"Fill in product details and usage instructions.",-1),ee=s("hr",null,null,-1),oe={class:"card-body"},te={class:"row"},re={class:"mb-3 col-md-6"},se=s("label",{for:"photopath",class:"form-label me-3"},[h(" Product Image "),s("span",{class:"ps-2 text-muted"},"(Optional)")],-1),le={class:"text-danger"},ne={class:"mt-3"},ie=["disabled"],de=h("Cancel");function ue(l,o,t,m,e,i){const d=c("InputComponent"),u=c("TextAreaComponent"),y=c("FileInputComponent"),v=c("Link"),x=c("AppLayout");return p(),q(x,null,{default:b(()=>[s("div",J,[s("div",K,[s("div",Y,[s("div",Z,[s("h5",null,a(t.product?"Update Product":"Create Product"),1),$]),ee,s("div",oe,[s("form",{onSubmit:o[11]||(o[11]=I((...r)=>i.submit&&i.submit(...r),["prevent"]))},[s("div",te,[n(d,{label:"Name",id:"name",modelValue:e.form.name,"onUpdate:modelValue":o[0]||(o[0]=r=>e.form.name=r),error:e.form.errors.name,isRequired:!0},null,8,["modelValue","error"]),n(d,{label:"Stock Count",id:"stock_count",type:"number",modelValue:e.form.stock_count,"onUpdate:modelValue":o[1]||(o[1]=r=>e.form.stock_count=r),error:e.form.errors.stock_count},null,8,["modelValue","error"]),n(d,{label:"Price",id:"Price",type:"number",modelValue:e.form.price,"onUpdate:modelValue":o[2]||(o[2]=r=>e.form.price=r),error:e.form.errors.price},null,8,["modelValue","error"]),n(u,{label:"Details",id:"details",modelValue:e.form.details,"onUpdate:modelValue":o[3]||(o[3]=r=>e.form.details=r),error:e.form.errors.details},null,8,["modelValue","error"]),s("div",re,[se,n(y,{id:"photopath",prvImage:i.Image,modelValue:e.form.photopath,"onUpdate:modelValue":o[4]||(o[4]=r=>e.form.photopath=r),isRequired:!1},null,8,["prvImage","modelValue"]),s("div",le,a(e.form.errors.photopath),1)]),n(u,{label:"Dosage Instructions",id:"dosage_instructions",modelValue:e.form.dosage_instructions,"onUpdate:modelValue":o[5]||(o[5]=r=>e.form.dosage_instructions=r),error:e.form.errors.dosage_instructions},null,8,["modelValue","error"]),n(u,{label:"Side Effects",id:"side_effects",modelValue:e.form.side_effects,"onUpdate:modelValue":o[6]||(o[6]=r=>e.form.side_effects=r),error:e.form.errors.side_effects},null,8,["modelValue","error"]),n(u,{label:"Precaution",id:"precaution",modelValue:e.form.precaution,"onUpdate:modelValue":o[7]||(o[7]=r=>e.form.precaution=r),error:e.form.errors.precaution},null,8,["modelValue","error"]),n(u,{label:"Interaction",id:"interaction",modelValue:e.form.interaction,"onUpdate:modelValue":o[8]||(o[8]=r=>e.form.interaction=r),error:e.form.errors.interaction},null,8,["modelValue","error"]),n(u,{label:"Storage",id:"storage",modelValue:e.form.storage,"onUpdate:modelValue":o[9]||(o[9]=r=>e.form.storage=r),error:e.form.errors.storage},null,8,["modelValue","error"]),n(u,{label:"Brand Names",id:"brand_names",modelValue:e.form.brand_names,"onUpdate:modelValue":o[10]||(o[10]=r=>e.form.brand_names=r),error:e.form.errors.brand_names},null,8,["modelValue","error"])]),s("div",ne,[s("button",{type:"submit",class:"btn btn-main me-2",disabled:e.form.processing},a(t.product?"Update":"Save"),9,ie),n(v,{class:"btn btn-outline-danger",href:l.route("product.index")},{default:b(()=>[de]),_:1},8,["href"])])],32)])])])])]),_:1})}const fe=_(G,[["render",ue]]);export{fe as default};
