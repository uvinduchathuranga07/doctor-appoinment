import{S as C,N as k,$ as A,U as p,m as _,p as E,q as b,s as e,H as M,t as n,x as f,P as y,y as m,K as D,M as a,O as V,V as c,F,Q as U,Y as L,Z as O}from"./index-DNn3JzHr.js";import{A as j,S as T}from"./AppLayout-CXqyQS37.js";import{F as N}from"./FileInputComponent-BJ8rIMbq.js";import{E as P}from"./Editor-B6gcDCJO.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={components:{Link:C,AppLayout:j,FileInputComponent:N,SelectInputComponentVue:T,Editor:P},props:{errors:Object,allRoles:Object,backendUser:Object,branches:Array,features:Array,service_types:Object,vehicle_manufacture:Object,vehicle:Object,type:Object,manufacture:Object,color:Object,model:Object},data(){return{apiKey:"vw4ubmg1a3lka0446gbr2zl6hoyieci6cv2wpw8czi7giive",form:k({id:"",vehicle_type:"",manufacture_name:"",model:"",seo_url:"",ex_color:"",in_color:"",features:[],transmission:"",year:"",chassis_no:"",condition:"",seats:"",doors:"",passengers:"",engine_capacity:"",mileage:"",fuel_type:"",drive_type:"",auction_grade:"",interior_condition:"",availability:"",editorContent:"",featured:"",latest:"",status:"",vehicle_image:"",monthly_price:"",initial_payment:"",uploaded_Images:[]})}},mounted(){this.vehicle&&(this.form.id=this.vehicle.id,this.form.vehicle_type=this.vehicle.vehicle_type_id,this.form.manufacture_name=this.vehicle.manufacture_id,this.form.model=this.vehicle.vehicle_model_id,this.form.seo_url=this.vehicle.seo_url,this.form.ex_color=this.vehicle.ex_color,this.form.in_color=this.vehicle.in_color,this.form.features=this.vehicle.FeaturesList??[],this.form.transmission=this.vehicle.transmission,this.form.year=this.vehicle.year,this.form.chassis_no=this.vehicle.chassis_no,this.form.condition=this.vehicle.condition,this.form.seats=this.vehicle.seats,this.form.doors=this.vehicle.doors,this.form.passengers=this.vehicle.passengers,this.form.engine_capacity=this.vehicle.engine_capacity,this.form.mileage=this.vehicle.mileage,this.form.fuel_type=this.vehicle.fuel_type,this.form.drive_type=this.vehicle.drive_type,this.form.auction_grade=this.vehicle.auction_grade,this.form.interior_condition=this.vehicle.interior_condition,this.form.availability=this.vehicle.availability,this.form.editorContent=this.vehicle.editorContent,this.form.featured=this.vehicle.featured,this.form.latest=this.vehicle.latest,this.form.status=this.vehicle.status,this.form.monthly_price=this.vehicle.monthly_price,this.form.initial_payment=this.vehicle.initial_payment,this.vehicle.media&&this.vehicle.media.length>0&&this.vehicle.media.filter(l=>{var s;return((s=l.custom_properties)==null?void 0:s.type)==="vehicle_gallery"}).forEach(l=>{this.form.uploaded_Images.push({file:l,preview:l.original_url})}))},computed:{Vehicle_Image(){if(this.vehicle&&this.vehicle.media.length>0){const l=this.vehicle.media.find(s=>{var r;return((r=s.custom_properties)==null?void 0:r.type)==="vehicle_main"});return l?l.original_url:""}return""}},methods:{handleImageUpload(l){const s=Array.from(l.target.files);console.log(s),s.forEach(r=>{if(r&&r.type.startsWith("image/")){const v=new FileReader;v.onload=o=>{this.form.uploaded_Images.push({file:r,preview:o.target.result})},v.readAsDataURL(r)}else console.error("Selected file is not an image:",r)})},removeUploadedImage(l){const s=this.form.uploaded_Images[l];console.log(s.file.original_url),s.file.original_url&&s.preview?A.Inertia.post(route("vehicle.image.remove"),{imageUrl:s.preview,product_id:this.vehicle.id},{onSuccess:()=>{this.form.uploaded_Images.splice(l,1)},onError:r=>{console.error("Error deleting image:",r)}}):this.form.uploaded_Images.splice(l,1)},getModels(){this.$inertia.reload({method:"POST",data:{_method:"GET",manufacture_id:this.form.manufacture_name}})},submit(){this.form.post(this.vehicle?route("vehicle.update"):route("vehicle.store"),{onSuccess:()=>{this.form.reset(),this.$root.showMessage("success",'<span class="text-success">Success</span><br/>',"A Record Was Created Successfully! ")},onError:()=>{this.form.reset("password","password_confirmation"),this.$root.showMessage("error",'<span class="text-danger">Error</span><br>',"Something went wrong! ")}})}}},t=l=>(L("data-v-46ca5729"),l=l(),O(),l),G={class:"row"},H={class:"card mb-4"},K=t(()=>e("div",{class:"card-header pb-0"},[e("h5",null,"Vehicle Manufacture"),e("p",null,"Manage Vehicle Manufacture.")],-1)),q=t(()=>e("hr",null,null,-1)),z={class:"card-body"},W={class:"row"},Y={class:"mb-3 col-md-6"},Q={class:"mb-3 col-md-6"},Z={class:"mb-3 col-md-6"},J={class:"mb-3 col-md-6"},X={class:"mb-3 col-md-6"},$={class:"mb-3 col-md-12"},ee=t(()=>e("label",{class:"form-label"},"Features",-1)),oe={class:"features-container"},se=["id","value"],ie=["for"],te={class:"mb-3 col-md-6"},le=t(()=>e("label",{for:"year",class:"form-label"},"Year",-1)),re={class:"text-danger"},ne={class:"mb-3 col-md-6"},ae=t(()=>e("label",{for:"chassis_no",class:"form-label"},"Chassis No",-1)),me={class:"text-danger"},de={class:"mb-3 col-md-6"},ce=t(()=>e("label",{for:"condition",class:"form-label"},"Condition",-1)),ue={class:"text-danger"},_e={class:"mb-3 col-md-6"},pe=t(()=>e("label",{for:"seats",class:"form-label"},"Seats",-1)),fe={class:"text-danger"},he={class:"mb-3 col-md-6"},ve=t(()=>e("label",{for:"doors",class:"form-label"},"Doors",-1)),ge={class:"text-danger"},be={class:"mb-3 col-md-6"},ye=t(()=>e("label",{for:"passengers",class:"form-label"},"Passengers",-1)),Ve={class:"text-danger"},Ue={class:"mb-3 col-md-6"},xe=t(()=>e("label",{for:"engine_capacity",class:"form-label"},"Engine Capacity",-1)),Ie={class:"text-danger"},we={class:"mb-3 col-md-6"},Se=t(()=>e("label",{for:"mileage",class:"form-label"},"Mileage",-1)),Ce={class:"text-danger"},ke={class:"mb-3 col-md-6"},Ae=t(()=>e("label",{for:"auction_grade",class:"form-label"},"Auction Grade",-1)),Ee={class:"text-danger"},Me={class:"mb-3 col-md-6"},De=t(()=>e("label",{for:"interior_condition",class:"form-label"},"Interior Condition",-1)),Fe={class:"text-danger"},Le={class:"mb-3 col-md-6"},Oe=t(()=>e("label",{for:"monthly_price",class:"form-label"},"Monthly Price",-1)),je={class:"input-group"},Te=t(()=>e("span",{class:"input-group-text"},"USD",-1)),Ne={class:"text-danger"},Pe={class:"mb-3 col-md-6"},Re=t(()=>e("label",{for:"initial_payment",class:"form-label"},"Initial Payment",-1)),Be={class:"input-group"},Ge=t(()=>e("span",{class:"input-group-text"},"USD",-1)),He={class:"text-danger"},Ke={class:"mb-3 col-md-12"},qe={class:"row"},ze={class:"col-md-6"},We=t(()=>e("label",{for:"image",class:"form-label me-3"},"Image",-1)),Ye=t(()=>e("br",null,null,-1)),Qe={class:"text-danger"},Ze={class:"col-md-6"},Je={class:"mb-4",style:{padding:"0.79rem 1.125rem"}},Xe=t(()=>e("h6",null,"Gallery Images",-1)),$e={class:"upload-button"},eo={class:"btn btn-outline-primary"},oo=U(" Upload Images "),so={key:0,class:"image-upload-container mt-2"},io={class:"image-box"},to=["src"],lo=["onClick"],ro=t(()=>e("i",{class:"fas fa-times"},null,-1)),no=[ro],ao={class:"mt-2"},mo=["disabled"],co=U("Cancel");function uo(l,s,r,v,o,u){const d=p("SelectInputComponentVue"),x=p("Editor"),I=p("FileInputComponent"),w=p("Link"),S=p("AppLayout");return _(),E(S,null,{default:b(()=>[e("div",G,[e("div",H,[K,q,e("div",z,[e("form",{id:"formAccountSettings",onSubmit:s[28]||(s[28]=M((...i)=>u.submit&&u.submit(...i),["prevent"]))},[e("div",W,[e("div",Y,[n(d,{class:"w-100",id:"vehicle_type",label:"Vehicle type",modelValue:o.form.vehicle_type,"onUpdate:modelValue":s[0]||(s[0]=i=>o.form.vehicle_type=i),options:r.type},null,8,["modelValue","options"])]),e("div",Q,[n(d,{class:"w-100",id:"manufacture_name",label:"Manufacture Name",modelValue:o.form.manufacture_name,"onUpdate:modelValue":s[1]||(s[1]=i=>o.form.manufacture_name=i),options:r.manufacture,onChange:u.getModels},null,8,["modelValue","options","onChange"])]),e("div",Z,[n(d,{class:"w-100",id:"model",label:"Model",modelValue:o.form.model,"onUpdate:modelValue":s[2]||(s[2]=i=>o.form.model=i),options:r.model},null,8,["modelValue","options"])]),e("div",J,[n(d,{class:"w-100",id:"ex_color",label:"Ex color",modelValue:o.form.ex_color,"onUpdate:modelValue":s[3]||(s[3]=i=>o.form.ex_color=i),options:r.color},null,8,["modelValue","options"])]),e("div",X,[n(d,{class:"w-100",id:"in_color",label:"In color",modelValue:o.form.in_color,"onUpdate:modelValue":s[4]||(s[4]=i=>o.form.in_color=i),options:r.color},null,8,["modelValue","options"])]),e("div",$,[ee,e("div",oe,[(_(!0),f(V,null,y(r.features,(i,h)=>(_(),f("div",{key:h,class:"checkbox-container"},[m(e("input",{type:"checkbox",id:"feature-"+i.id,value:i.id,"onUpdate:modelValue":s[5]||(s[5]=g=>o.form.features=g)},null,8,se),[[D,o.form.features]]),e("label",{for:"feature-"+i.id},a(i.name),9,ie)]))),128))])]),n(d,{id:"transmission",label:"Transmission",error:o.form.errors.transmission,options:[{id:"Auto",name:"Auto"},{id:"Manual",name:"Manual"},{id:"Triptonic",name:"Triptonic"}],modelValue:o.form.transmission,"onUpdate:modelValue":s[6]||(s[6]=i=>o.form.transmission=i)},null,8,["error","modelValue"]),e("div",te,[le,m(e("input",{class:"form-control",type:"number",id:"year",name:"year","onUpdate:modelValue":s[7]||(s[7]=i=>o.form.year=i)},null,512),[[c,o.form.year]]),e("div",re,a(o.form.errors.year),1)]),e("div",ne,[ae,m(e("input",{class:"form-control",type:"text",id:"chassis_no",name:"chassis_no","onUpdate:modelValue":s[8]||(s[8]=i=>o.form.chassis_no=i)},null,512),[[c,o.form.chassis_no]]),e("div",me,a(o.form.errors.chassis_no),1)]),e("div",de,[ce,m(e("input",{class:"form-control",type:"text",id:"condition",name:"condition","onUpdate:modelValue":s[9]||(s[9]=i=>o.form.condition=i)},null,512),[[c,o.form.condition]]),e("div",ue,a(o.form.errors.condition),1)]),e("div",_e,[pe,m(e("input",{class:"form-control",type:"number",id:"seats",name:"seats","onUpdate:modelValue":s[10]||(s[10]=i=>o.form.seats=i)},null,512),[[c,o.form.seats]]),e("div",fe,a(o.form.errors.seats),1)]),e("div",he,[ve,m(e("input",{class:"form-control",type:"number",id:"doors",name:"doors","onUpdate:modelValue":s[11]||(s[11]=i=>o.form.doors=i)},null,512),[[c,o.form.doors]]),e("div",ge,a(o.form.errors.doors),1)]),e("div",be,[ye,m(e("input",{class:"form-control",type:"number",id:"passengers",name:"passengers","onUpdate:modelValue":s[12]||(s[12]=i=>o.form.passengers=i)},null,512),[[c,o.form.passengers]]),e("div",Ve,a(o.form.errors.passengers),1)]),e("div",Ue,[xe,m(e("input",{class:"form-control",type:"text",id:"engine_capacity",name:"engine_capacity","onUpdate:modelValue":s[13]||(s[13]=i=>o.form.engine_capacity=i)},null,512),[[c,o.form.engine_capacity]]),e("div",Ie,a(o.form.errors.engine_capacity),1)]),e("div",we,[Se,m(e("input",{class:"form-control",type:"number",id:"mileage",name:"mileage","onUpdate:modelValue":s[14]||(s[14]=i=>o.form.mileage=i)},null,512),[[c,o.form.mileage]]),e("div",Ce,a(o.form.errors.mileage),1)]),n(d,{id:"fuel_type",label:"Fuel Type",error:o.form.errors.fuel_type,options:[{id:"Diesel",name:"Diesel"},{id:"Petrol",name:"Petrol"},{id:"Hybrid",name:"Hybrid"},{id:"Electric",name:"Electric"}],modelValue:o.form.fuel_type,"onUpdate:modelValue":s[15]||(s[15]=i=>o.form.fuel_type=i)},null,8,["error","modelValue"]),n(d,{id:"drive_type",label:"Drive Type",error:o.form.errors.drive_type,options:[{id:"Right Side Driving",name:"Right Side Driving"},{id:"Left Side Driving",name:"Left Side Driving"}],modelValue:o.form.drive_type,"onUpdate:modelValue":s[16]||(s[16]=i=>o.form.drive_type=i)},null,8,["error","modelValue"]),e("div",ke,[Ae,m(e("input",{class:"form-control",type:"text",id:"auction_grade",name:"auction_grade","onUpdate:modelValue":s[17]||(s[17]=i=>o.form.auction_grade=i)},null,512),[[c,o.form.auction_grade]]),e("div",Ee,a(o.form.errors.auction_grade),1)]),e("div",Me,[De,m(e("input",{class:"form-control",type:"text",id:"interior_condition",name:"interior_condition","onUpdate:modelValue":s[18]||(s[18]=i=>o.form.interior_condition=i)},null,512),[[c,o.form.interior_condition]]),e("div",Fe,a(o.form.errors.interior_condition),1)]),n(d,{id:"availability",label:"Availability",error:o.form.errors.availability,options:[{id:"Available",name:"Available"},{id:"Arriving",name:"Arriving"},{id:"Sold",name:"Sold"}],modelValue:o.form.availability,"onUpdate:modelValue":s[19]||(s[19]=i=>o.form.availability=i)},null,8,["error","modelValue"]),e("div",Le,[Oe,e("div",je,[Te,m(e("input",{class:"form-control",type:"text",id:"monthly_price",name:"monthly_price","onUpdate:modelValue":s[20]||(s[20]=i=>o.form.monthly_price=i)},null,512),[[c,o.form.monthly_price]])]),e("div",Ne,a(o.form.errors.monthly_price),1)]),e("div",Pe,[Re,e("div",Be,[Ge,m(e("input",{class:"form-control",type:"text",id:"initial_payment",name:"initial_payment","onUpdate:modelValue":s[21]||(s[21]=i=>o.form.initial_payment=i)},null,512),[[c,o.form.initial_payment]])]),e("div",He,a(o.form.errors.initial_payment),1)]),e("div",null,[n(x,{modelValue:o.form.editorContent,"onUpdate:modelValue":s[22]||(s[22]=i=>o.form.editorContent=i),"api-key":o.apiKey,init:{plugins:"lists link image table code help wordcount"}},null,8,["modelValue","api-key"])]),e("div",Ke,[e("div",qe,[e("div",ze,[We,Ye,n(I,{isRequired:!1,id:"vehicle_image",prvImage:u.Vehicle_Image,modelValue:o.form.vehicle_image,"onUpdate:modelValue":s[23]||(s[23]=i=>o.form.vehicle_image=i)},null,8,["prvImage","modelValue"]),e("div",Qe,a(o.form.errors.vehicle_image),1)]),e("div",Ze,[e("div",Je,[Xe,e("div",$e,[e("label",eo,[oo,e("input",{type:"file",multiple:"",onChange:s[24]||(s[24]=(...i)=>u.handleImageUpload&&u.handleImageUpload(...i)),hidden:""},null,32)])]),o.form.uploaded_Images.length>0?(_(),f("div",so,[(_(!0),f(V,null,y(o.form.uploaded_Images,(i,h)=>(_(),f("div",{class:"",key:h},[e("div",io,[e("img",{src:i.preview,alt:"Uploaded Image",class:"img-fluid"},null,8,to),e("button",{type:"button",class:"remove-btn",onClick:g=>u.removeUploadedImage(h)},no,8,lo)])]))),128))])):F("",!0)])])])]),n(d,{id:"featured",label:"Is Featured",error:o.form.errors.featured,options:[{id:"1",name:"Enable"},{id:"0",name:"Disable"}],modelValue:o.form.featured,"onUpdate:modelValue":s[25]||(s[25]=i=>o.form.featured=i)},null,8,["error","modelValue"]),n(d,{id:"latest",label:"Is Latest",error:o.form.errors.latest,options:[{id:"1",name:"Enable"},{id:"0",name:"Disable"}],modelValue:o.form.latest,"onUpdate:modelValue":s[26]||(s[26]=i=>o.form.latest=i)},null,8,["error","modelValue"]),n(d,{id:"status",label:"status",error:o.form.errors.status,options:[{id:"1",name:"Active"},{id:"0",name:"Inactive"}],modelValue:o.form.status,"onUpdate:modelValue":s[27]||(s[27]=i=>o.form.status=i)},null,8,["error","modelValue"])]),e("div",ao,[e("button",{type:"submit",class:"btn btn-main me-2",disabled:o.form.processing},a(r.vehicle?"Update":"Save"),9,mo),n(w,{class:"btn btn-outline-danger",href:l.route("vehicle_manufacture.index")},{default:b(()=>[co]),_:1},8,["href"])])],32)])])])]),_:1})}const go=R(B,[["render",uo],["__scopeId","data-v-46ca5729"]]);export{go as default};
