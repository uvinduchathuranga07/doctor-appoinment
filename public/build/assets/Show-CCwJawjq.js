import{A as v}from"./AppLayout-7JuOUvUe.js";import{V as x,a as k,R as u,m as a,p as N,q as y,s as t,Q as i,M as e,E as P,x as c,O as S,P as D,y as L,S as w,t as O}from"./index-DWSgxYrt.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={components:{AppLayout:v,Link:x},props:{prescription:Object,parsedDetails:Array},data(){return{pharmacyName:"",sending:!1}},methods:{async sendOrder(){if(this.pharmacyName){this.sending=!0;try{k.post(route("order.send"),{prescription_id:this.prescription.id,pharmacy_name:this.pharmacyName}),this.$root.showMessage("success","Order Sent","Prescription sent to pharmacy successfully.")}catch{this.$root.showMessage("error","Error","Failed to send prescription to pharmacy.")}finally{this.sending=!1}}}}},V={class:"card p-4"},C=t("h4",{class:"mb-4"},"Prescription Details",-1),M={class:"mb-3"},E=t("strong",null,"Doctor:",-1),q={class:"mb-3"},F=t("strong",null,"Patient:",-1),j={class:"mb-3"},z=t("strong",null,"Date:",-1),I={class:"mb-3"},Q=t("strong",null,"Status:",-1),R={class:"mb-3"},T=t("strong",null,"Pharmacy:",-1),U={class:"mb-3"},G=t("strong",null,"Prescription Items:",-1),H={key:0},J={key:1,class:"text-muted"},K={class:"mt-4"},W=t("label",null,"Select Pharmacy",-1),X=t("option",{disabled:"",value:""},"Select",-1),Y=t("option",{value:"pharmacy1"},"Pharmacy 1",-1),Z=t("option",{value:"pharmacy2"},"Pharmacy 2",-1),$=[X,Y,Z],tt=["disabled"],st=t("i",{class:"bx bx-arrow-back"},null,-1),et=i(" Back to List ");function nt(d,r,s,ot,o,l){const b=u("Link"),g=u("AppLayout");return a(),N(g,null,{default:y(()=>{var _,p,m,h;return[t("div",V,[C,t("div",M,[E,i(" "+e(((p=(_=s.prescription.appointment)==null?void 0:_.doctor)==null?void 0:p.name)||"—"),1)]),t("div",q,[F,i(" "+e(((m=s.prescription.patient)==null?void 0:m.name)||"—"),1)]),t("div",j,[z,i(" "+e(((h=s.prescription.appointment)==null?void 0:h.appointment_date)||"—"),1)]),t("div",I,[Q,t("span",{class:P({"text-success":s.prescription.status==="completed","text-danger":s.prescription.status==="cancelled","text-warning":s.prescription.status==="pending"})},e(s.prescription.status||"—"),3)]),t("div",R,[T,i(" "+e(s.prescription.pharmacy_name||"—"),1)]),t("div",U,[G,s.parsedDetails.length?(a(),c("ul",H,[(a(!0),c(S,null,D(s.parsedDetails,(n,f)=>(a(),c("li",{key:f},e(n.product_name)+" × "+e(n.quantity),1))),128))])):(a(),c("p",J,"No items"))]),t("div",K,[W,L(t("select",{"onUpdate:modelValue":r[0]||(r[0]=n=>o.pharmacyName=n),class:"form-control mb-2"},$,512),[[w,o.pharmacyName]]),t("button",{class:"btn btn-main",onClick:r[1]||(r[1]=(...n)=>l.sendOrder&&l.sendOrder(...n)),disabled:o.sending||!o.pharmacyName},e(o.sending?"Sending...":"Send to Pharmacy"),9,tt)]),O(b,{href:d.route("prescription.index"),class:"btn btn-outline-secondary mt-3"},{default:y(()=>[st,et]),_:1},8,["href"])])]}),_:1})}const ct=A(B,[["render",nt]]);export{ct as default};
