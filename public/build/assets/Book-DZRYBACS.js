import{A as h}from"./AppLayout-7JuOUvUe.js";import{N as v,a as b,R as S,m as i,p as g,q as x,s as o,H as y,y as a,S as p,x as l,P as _,M as r,O as c,U as k}from"./index-DWSgxYrt.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={props:{doctors:Array},components:{AppLayout:h},data(){return{availableSlots:[],form:v({doctor_id:"",appointment_date:"",start_time:""})}},methods:{fetchSlots(){this.form.doctor_id&&this.form.appointment_date&&b.get(route("appointments.getAvailableSlots",this.form.doctor_id),{params:{date:this.form.appointment_date}}).then(m=>{this.availableSlots=m.data})},submit(){this.form.post(route("appointments.store"))}}},D={class:"card p-4"},C=o("h4",null,"Book Appointment",-1),L={class:"mb-3"},M=o("label",null,"Doctor",-1),U=o("option",{value:""},"Select Doctor",-1),V=["value"],w={class:"text-danger"},T={class:"mb-3"},F=o("label",null,"Date",-1),N={class:"text-danger"},q={class:"mb-3"},z=o("label",null,"Time Slot",-1),E=o("option",{value:""},"Select Time",-1),H=["value"],O={class:"text-danger"},P=["disabled"];function R(m,e,u,j,s,n){const f=S("AppLayout");return i(),g(f,null,{default:x(()=>[o("div",D,[C,o("form",{onSubmit:e[5]||(e[5]=y((...t)=>n.submit&&n.submit(...t),["prevent"]))},[o("div",L,[M,a(o("select",{"onUpdate:modelValue":e[0]||(e[0]=t=>s.form.doctor_id=t),class:"form-control",onChange:e[1]||(e[1]=(...t)=>n.fetchSlots&&n.fetchSlots(...t))},[U,(i(!0),l(c,null,_(u.doctors,t=>{var d;return i(),l("option",{key:t.id,value:t.id},r(t.name)+" ("+r((d=t.specialization)==null?void 0:d.name)+") ",9,V)}),128))],544),[[p,s.form.doctor_id]]),o("div",w,r(s.form.errors.doctor_id),1)]),o("div",T,[F,a(o("input",{type:"date","onUpdate:modelValue":e[2]||(e[2]=t=>s.form.appointment_date=t),class:"form-control",onChange:e[3]||(e[3]=(...t)=>n.fetchSlots&&n.fetchSlots(...t))},null,544),[[k,s.form.appointment_date]]),o("div",N,r(s.form.errors.appointment_date),1)]),o("div",q,[z,a(o("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>s.form.start_time=t),class:"form-control"},[E,(i(!0),l(c,null,_(s.availableSlots,t=>(i(),l("option",{key:t,value:t},r(t),9,H))),128))],512),[[p,s.form.start_time]]),o("div",O,r(s.form.errors.start_time),1)]),o("button",{type:"submit",class:"btn btn-main mt-3",disabled:s.form.processing}," Book Appointment ",8,P)],32)])]),_:1})}const K=A(B,[["render",R]]);export{K as default};
