import{A as v}from"./AppLayout-BKT4OXYe.js";import{V as k,R as u,m as a,p as x,q as y,s as t,Q as i,M as e,E as N,x as c,O as P,P as S,y as D,S as L,t as w}from"./index-DWSgxYrt.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A={components:{AppLayout:v,Link:k},props:{prescription:Object,parsedDetails:Array},data(){return{pharmacyName:"",sending:!1}},methods:{async sendOrder(){if(this.pharmacyName){this.sending=!0;try{this.$inertia.post(route("order.send"),{prescription_id:this.prescription.id,pharmacy_name:this.pharmacyName}),this.$root.showMessage("success","Order Sent","Prescription sent to pharmacy successfully.")}catch{this.$root.showMessage("error","Error","Failed to send prescription to pharmacy.")}finally{this.sending=!1}}}}},B={class:"card p-4"},V=t("h4",{class:"mb-4"},"Prescription Details",-1),C={class:"mb-3"},M=t("strong",null,"Doctor:",-1),E={class:"mb-3"},q=t("strong",null,"Patient:",-1),F={class:"mb-3"},j=t("strong",null,"Date:",-1),z={class:"mb-3"},I=t("strong",null,"Status:",-1),Q={class:"mb-3"},R=t("strong",null,"Pharmacy:",-1),T={class:"mb-3"},U=t("strong",null,"Prescription Items:",-1),G={key:0},H={key:1,class:"text-muted"},J={class:"mt-4"},K=t("label",null,"Select Pharmacy",-1),W=t("option",{disabled:"",value:""},"Select",-1),X=t("option",{value:"pharmacy1"},"Pharmacy 1",-1),Y=t("option",{value:"pharmacy2"},"Pharmacy 2",-1),Z=[W,X,Y],$=["disabled"],tt=t("i",{class:"bx bx-arrow-back"},null,-1),st=i(" Back to List ");function et(d,r,s,nt,o,l){const b=u("Link"),g=u("AppLayout");return a(),x(g,null,{default:y(()=>{var _,p,m,h;return[t("div",B,[V,t("div",C,[M,i(" "+e(((p=(_=s.prescription.appointment)==null?void 0:_.doctor)==null?void 0:p.name)||"—"),1)]),t("div",E,[q,i(" "+e(((m=s.prescription.patient)==null?void 0:m.name)||"—"),1)]),t("div",F,[j,i(" "+e(((h=s.prescription.appointment)==null?void 0:h.appointment_date)||"—"),1)]),t("div",z,[I,t("span",{class:N({"text-success":s.prescription.status==="completed","text-danger":s.prescription.status==="cancelled","text-warning":s.prescription.status==="pending"})},e(s.prescription.status||"—"),3)]),t("div",Q,[R,i(" "+e(s.prescription.pharmacy_name||"—"),1)]),t("div",T,[U,s.parsedDetails.length?(a(),c("ul",G,[(a(!0),c(P,null,S(s.parsedDetails,(n,f)=>(a(),c("li",{key:f},e(n.product_name)+" × "+e(n.quantity),1))),128))])):(a(),c("p",H,"No items"))]),t("div",J,[K,D(t("select",{"onUpdate:modelValue":r[0]||(r[0]=n=>o.pharmacyName=n),class:"form-control mb-2"},Z,512),[[L,o.pharmacyName]]),t("button",{class:"btn btn-main",onClick:r[1]||(r[1]=(...n)=>l.sendOrder&&l.sendOrder(...n)),disabled:o.sending||!o.pharmacyName},e(o.sending?"Sending...":"Send to Pharmacy"),9,$)]),w(b,{href:d.route("prescription.index"),class:"btn btn-outline-secondary mt-3"},{default:y(()=>[tt,st]),_:1},8,["href"])])]}),_:1})}const rt=O(A,[["render",et]]);export{rt as default};
