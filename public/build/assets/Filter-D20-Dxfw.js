import T from"./SelectInputComponent-YE_ODcnD.js";import{R as S,m as d,x as m,s as o,t as i,y as w,U as F,F as c,H as p,Q as O,M as D,E as M,$ as I,a0 as Q}from"./index-DWSgxYrt.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";const L={components:{SelectInputComponent:T},data(){return{index:"",form:{available_days:0,manufacturer:0,model:0,year_from:0,year_to:0,chassis:0,engine:0,color:"",lot_no:"",grade:0,start_price:0,mileage_from:0,mileage_to:0,search:!1},loading:!1,advance_search:!1}},props:{reload:{type:Boolean,default:!1}},computed:{auctionDateOptions(){return this.$page.props.auctionDates.map((t,s)=>({id:s,name:t==null?void 0:t.AUCTION_DATE}))}},mounted(){this.setQueryData(),this.reload&&this.$inertia.reload({data:{...this.form,search:!1},onSuccess:()=>{this.form.search=!1}}),$("#manufacture, #model, #year_from, #year_to, #grade, #chassis, #engine, #available_days, #colors, #mileage_from, #mileage_to, #price").on("select2:open",function(){setTimeout(function(){let t=document.querySelector(".select2-container--open .select2-search__field");t&&t.focus()},100)})},methods:{resetFilter(){this.form={available_days:0,manufacturer:0,model:0,year_from:0,year_to:0,chassis:0,engine:0,color:0,lot_no:"",grade:0,start_price:0,mileage_from:0,mileage_to:0,search:!1}},advanceFilter(){this.loading=!0,this.advance_search==!1?(this.advance_search=!0,setTimeout(()=>{this.loading=!1},500)):(this.advance_search=!1,setTimeout(()=>{this.loading=!1},500))},onChangeField(t){console.log("jdsfhsdj"),this.$page.props.requestQuery.manufacturer!=this.form.manufacturer&&(this.form.model=0,this.form.year_from=0,this.form.year_to=0,this.form.chassis=0,this.form.engine=0,this.form.color=0,this.form.grade=0,this.form.start_price=0,this.mileage_from=0,this.mileage_to=0),this.form.search=!1,this.loading=!0,this.$inertia.reload({method:"POST",data:{...this.form,_method:"GET"},onSuccess:()=>{this.setQueryData(),this.loading=!1}})},setQueryData(){this.form.available_days=this.$page.props.requestQuery.available_days??0,this.form.manufacturer=this.$page.props.requestQuery.manufacturer??0,this.form.model=this.$page.props.requestQuery.model??0,this.form.year_from=this.$page.props.requestQuery.year_from??0,this.form.year_to=this.$page.props.requestQuery.year_to??0,this.form.chassis=this.$page.props.requestQuery.chassis??0,this.form.engine=this.$page.props.requestQuery.engine??0,this.form.color=this.$page.props.requestQuery.color??0,this.form.lot_no=this.$page.props.requestQuery.lot_no??"",this.form.grade=this.$page.props.requestQuery.grade??0,this.form.start_price=this.$page.props.requestQuery.start_price??0,this.form.mileage_from=this.$page.props.requestQuery.mileage_from??0,this.form.mileage_to=this.$page.props.requestQuery.mileage_to??0,this.form.search=!1},filterData(){this.reload?this.$inertia.reload({methods:"POST",data:{...this.form,search:!0,_method:"GET"},onSuccess:()=>{this.setQueryData(),this.advance_search=!0}}):this.$inertia.visit(route("live.auction"),{data:{...this.form,search:!0},onSuccess:()=>{this.setQueryData(),this.advance_search=!0}})}}},n=t=>(I("data-v-09b24d91"),t=t(),Q(),t),N={class:"container addPadding"},U={class:"position-relative",style:{"background-color":"#F1F0F0"}},k={class:"row justify-content-center rounded align-items-center my-4 py-3 px-3 filter-search mx-0"},q={class:"col-md-3 mb-3 mobile-padding"},G=n(()=>o("label",{for:"make-select",class:"fw-medium"},"Make",-1)),P={class:"col-md-3 mb-3 mobile-padding"},j=n(()=>o("label",{for:"model-select",class:"fw-medium"},"Model",-1)),x={class:"col-md-3 mb-3 mobile-padding"},K=n(()=>o("label",{for:"days",class:"fw-medium"},"Select Year",-1)),Y={class:"row align-items-center"},B={class:"col-6"},H={class:"col-6"},z={class:"col-md-3 mb-3 mobile-padding"},Z=n(()=>o("label",{for:"chassis",class:"fw-medium"},"Chassis ID",-1)),W={class:"col-md-3 mb-3 mobile-padding"},J=n(()=>o("label",{for:"engine",class:"fw-medium"},"Engine CC",-1)),X={class:"col-md-3 mb-3 mobile-padding"},ee=n(()=>o("label",{for:"engine",class:"fw-medium"},"Auction Grade",-1)),oe={class:"col-md-3 mb-3 mobile-padding"},se=n(()=>o("label",{for:"days",class:"fw-medium"},"Lot No",-1)),ae={key:0,class:"col-md-3 mb-3 mobile-padding"},te=n(()=>o("label",{for:"days",class:"fw-medium"},"Auction Available Days",-1)),le={key:1,class:"col-md-3 mb-3 mobile-padding"},re=n(()=>o("label",{for:"days",class:"fw-medium"},"Color",-1)),ie={key:2,class:"col-md-3 mb-3 mobile-padding"},ne=n(()=>o("label",{class:"fw-medium"},"Mileage",-1)),de={class:"row align-items-center"},me={class:"col-6"},ce={class:"col-6"},pe={key:3,class:"col-md-3 mb-3 mobile-padding"},ue=n(()=>o("label",{for:"days",class:"fw-medium"},"Start Price",-1)),he={class:"col-md-3 text-center"},fe={class:"row mx-3 pb-3 justify-content-center"},ge={class:"col-md-3"},_e={class:"col-md-3"},ye={key:0,class:"position-absolute d-flex justify-content-center align-items-center h-100 w-100 top-0",style:{"background-color":"#f1f0f091"}},Ce=n(()=>o("div",{class:"position-relative"},[o("div",{class:"position-absolute d-flex justify-content-center align-items-center h-100 w-100 top-0"},[o("div",{class:"spin text-center py-3 shadow-sm"},[o("div",{class:"spinner-border text-black",role:"status"},[o("span",{class:"visually-hidden"},"Loading...")]),o("p",{class:"mb-0 mt-1",style:{"font-size":"14px"}},"Please Wait..")])])],-1)),be=[Ce];function ve(t,s,Ee,Ve,a,l){var u,h,f,g,_,y,C,b,v,E,V,A;const r=S("SelectInputComponent");return d(),m("section",N,[o("div",U,[o("div",k,[o("div",q,[G,i(r,{id:"manufacture",modelValue:a.form.manufacturer,"onUpdate:modelValue":s[0]||(s[0]=e=>a.form.manufacturer=e),placeholder:"SELECT MAKE",onChange:l.onChangeField,options:(u=t.$page.props.manufactures)==null?void 0:u.map(e=>({id:e.MARKA_NAME,name:e.MARKA_NAME}))},null,8,["modelValue","onChange","options"])]),o("div",P,[j,i(r,{id:"model",modelValue:a.form.model,"onUpdate:modelValue":s[1]||(s[1]=e=>a.form.model=e),placeholder:"SELECT MODEL",onChange:l.onChangeField,options:(h=t.$page.props.models)==null?void 0:h.map(e=>({id:e.MODEL_NAME,name:e.MODEL_NAME}))},null,8,["modelValue","onChange","options"])]),o("div",x,[K,o("div",Y,[o("div",B,[i(r,{id:"year_from",modelValue:a.form.year_from,"onUpdate:modelValue":s[2]||(s[2]=e=>a.form.year_from=e),placeholder:"FROM",onChange:l.onChangeField,options:(f=t.$page.props.years)==null?void 0:f.map(e=>({id:e.YEAR,name:e.YEAR}))},null,8,["modelValue","onChange","options"])]),o("div",H,[i(r,{id:"year_to",modelValue:a.form.year_to,"onUpdate:modelValue":s[3]||(s[3]=e=>a.form.year_to=e),placeholder:"TO",onChange:l.onChangeField,options:(g=t.$page.props.years)==null?void 0:g.map(e=>({id:e.YEAR,name:e.YEAR}))},null,8,["modelValue","onChange","options"])])])]),o("div",z,[Z,i(r,{id:"chassis",modelValue:a.form.chassis,"onUpdate:modelValue":s[4]||(s[4]=e=>a.form.chassis=e),placeholder:"SELECT CHASSIS ID",onChange:l.onChangeField,options:(_=t.$page.props.chassisNumbers)==null?void 0:_.map(e=>({id:e.KUZOV,name:e.KUZOV}))},null,8,["modelValue","onChange","options"])]),o("div",W,[J,i(r,{id:"engine",modelValue:a.form.engine,"onUpdate:modelValue":s[5]||(s[5]=e=>a.form.engine=e),placeholder:"SELECT ENGINE CC",onChange:l.onChangeField,options:(y=t.$page.props.engineCapacity)==null?void 0:y.map(e=>({id:e.ENG_V,name:e.ENG_V}))},null,8,["modelValue","onChange","options"])]),o("div",X,[ee,i(r,{id:"grade",modelValue:a.form.grade,"onUpdate:modelValue":s[6]||(s[6]=e=>a.form.grade=e),placeholder:"SELECT AUCTION GRADE",onChange:l.onChangeField,options:(C=t.$page.props.Condition)==null?void 0:C.map(e=>({id:e.RATE,name:e.RATE}))},null,8,["modelValue","onChange","options"])]),o("div",oe,[se,w(o("input",{class:"form-control form-select-sm",type:"text",placeholder:"ENTER LOT NO","onUpdate:modelValue":s[7]||(s[7]=e=>a.form.lot_no=e)},null,512),[[F,a.form.lot_no]])]),this.advance_search?(d(),m("div",ae,[te,i(r,{id:"available_days",modelValue:a.form.available_days,"onUpdate:modelValue":s[8]||(s[8]=e=>a.form.available_days=e),placeholder:"SELECT AUCTION DATE",onChange:l.onChangeField,options:(b=t.$page.props.auctionDates)==null?void 0:b.map(e=>({id:e.AUCTION_DATE,name:e.AUCTION_DATE}))},null,8,["modelValue","onChange","options"])])):c("",!0),this.advance_search?(d(),m("div",le,[re,i(r,{id:"colors",modelValue:a.form.color,"onUpdate:modelValue":s[9]||(s[9]=e=>a.form.color=e),placeholder:"SELECT COLOR",onChange:l.onChangeField,options:(v=t.$page.props.colorQuery)==null?void 0:v.map(e=>({id:e.COLOR,name:e.COLOR}))},null,8,["modelValue","onChange","options"])])):c("",!0),this.advance_search?(d(),m("div",ie,[ne,o("div",de,[o("div",me,[i(r,{id:"mileage_from",modelValue:a.form.mileage_from,"onUpdate:modelValue":s[10]||(s[10]=e=>a.form.mileage_from=e),placeholder:"FROM",onChange:l.onChangeField,options:(E=t.$page.props.Mileage)==null?void 0:E.map(e=>({id:e.MILEAGE,name:e.MILEAGE}))},null,8,["modelValue","onChange","options"])]),o("div",ce,[i(r,{id:"mileage_to",modelValue:a.form.mileage_to,"onUpdate:modelValue":s[11]||(s[11]=e=>a.form.mileage_to=e),placeholder:"TO",onChange:l.onChangeField,options:(V=t.$page.props.Mileage)==null?void 0:V.map(e=>({id:e.MILEAGE,name:e.MILEAGE}))},null,8,["modelValue","onChange","options"])])])])):c("",!0),this.advance_search?(d(),m("div",pe,[ue,i(r,{id:"price",modelValue:a.form.start_price,"onUpdate:modelValue":s[12]||(s[12]=e=>a.form.start_price=e),placeholder:"SELECT START PRICE",onChange:l.onChangeField,options:(A=t.$page.props.PriceQuery)==null?void 0:A.map(e=>({id:e.AVG_PRICE,name:e.AVG_PRICE}))},null,8,["modelValue","onChange","options"])])):c("",!0),o("div",he,[o("p",{type:"button",class:"rounded-0 mb-0 w-100 advace-btn",onClick:s[13]||(s[13]=p((...e)=>l.advanceFilter&&l.advanceFilter(...e),["prevent"]))},[O(D(a.advance_search?"Hide advance search":"Advance search"),1),o("i",{class:M(["fa-solid",a.advance_search?"fa-angles-up":"fa-angles-down","ps-2"])},null,2)])])]),o("div",fe,[o("div",ge,[o("button",{type:"button",class:"btn btn-primary btn-sm rounded-0 w-100 fw-semibold bg-dark mb-2",onClick:s[14]||(s[14]=p((...e)=>l.resetFilter&&l.resetFilter(...e),["prevent"]))},"RESET")]),o("div",_e,[o("button",{type:"button",class:"btn btn-primary btn-sm rounded-0 w-100 fw-semibold mb-2",onClick:s[15]||(s[15]=p((...e)=>l.filterData&&l.filterData(...e),["prevent"]))},"SEARCH")])]),a.loading?(d(),m("div",ye,be)):c("",!0)])])}const we=R(L,[["render",ve],["__scopeId","data-v-09b24d91"]]);export{we as default};
