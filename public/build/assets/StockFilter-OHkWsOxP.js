import{V as k,R as c,m as p,x as m,s as o,E as y,y as f,U as E,t as n,S as $,O as L,P as D,M as i,q as C,Z as O,$ as V,Q as F}from"./index-Bx5EY2Cc.js";import P from"./Types-DmGQOhke.js";import B from"./Manufactures-D8yBkCnl.js";import N from"./Models-C8kiEUhN.js";import A from"./DriverType-qoXED6Fs.js";import{_ as H}from"./_plugin-vue_export-helper-DlAUqK2U.js";const I={components:{Types:P,Manufactures:B,Models:N,DriverType:A,Link:k},name:"AvailableStockIndex",data(){return{isSticky:!1,sortBy:this.$page.props.requestQuery.sortby||"",keyword:this.$page.props.requestQuery.keyword||"",index:2,form:{min_mileage:0,max_mileage:0}}},mounted(){window.addEventListener("scroll",this.handleScroll),this.setMileage()},beforeUnmount(){window.removeEventListener("scroll",this.handleScroll)},computed:{displayMinMileage:function(){const t=this.$page.props.minMileage??0,e=this.$page.props.maxMileage??0;return t==e?0:this.$page.props.minMileage??0},displayMaxMileage:function(){return this.$page.props.maxMileage??0}},methods:{handleScroll(){var d;const t=window.scrollY,e=((d=this.$refs.filterSidebar)==null?void 0:d.offsetTop)||0;this.isSticky=t>e},search(){this.$inertia.reload({method:"POST",data:{_method:"GET",keyword:this.keyword}})},clearSearch(){this.keyword="",this.$inertia.reload({method:"POST",data:{_method:"GET"}})},setMileage(){this.form.min_mileage=this.$page.props.minMileage??0,this.$page.props.minMileage==this.$page.props.maxMileage&&(this.form.min_mileage=0),this.form.max_mileage=this.$page.props.maxMileage??0},onChangeMileage(t){const e=this.$page.props.requestQuery??{};this.$inertia.reload({method:"POST",data:{_method:"GET",...e,min_mileage:this.form.min_mileage,max_mileage:this.form.max_mileage},onFinish:()=>{}})},applySort(){this.$inertia.reload({method:"POST",data:{_method:"GET",sortBy:this.sortBy},onFinish:()=>{}})}}},a=t=>(O("data-v-c0886262"),t=t(),V(),t),R={class:"container-fluid mt-5 mb-5"},U={class:"row"},q={class:"col-lg-3 position-relative"},G={class:"card-body"},Q=a(()=>o("h3",{class:"mb-4"},"Filter Car",-1)),j={class:"d-flex flex-column"},Y={class:"d-flex justify-content-end gap-2"},z={class:"accordion",id:"accordionExample"},W={class:"accordion-item border-0 mb-2"},Z=a(()=>o("h2",{class:"accordion-header"},[o("button",{class:"accordion-button rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne"},"TYPE")],-1)),J={id:"collapseOne",class:"accordion-collapse collapse show","data-bs-parent":"#accordionExample"},K={class:"accordion-body"},X={class:"accordion-item border-0 mb-2"},oo=a(()=>o("h2",{class:"accordion-header"},[o("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseTwo","aria-expanded":"false","aria-controls":"collapseTwo"},"MANUFACTURER")],-1)),so={id:"collapseTwo",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},eo={class:"accordion-body"},to={class:"accordion-item border-0 mb-2"},ao=a(()=>o("h2",{class:"accordion-header"},[o("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseThree","aria-expanded":"false","aria-controls":"collapseThree"},"MODEL")],-1)),io={id:"collapseThree",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},ro={class:"accordion-body"},lo={class:"accordion-item border-0 mb-2"},co=a(()=>o("h2",{class:"accordion-header"},[o("button",{class:"accordion-button collapsed rounded",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapseFour","aria-expanded":"false","aria-controls":"collapseFour"},"LHD/RHD")],-1)),no={id:"collapseFour",class:"accordion-collapse collapse","data-bs-parent":"#accordionExample"},po={class:"accordion-body"},mo={class:"col-lg-9"},_o={class:"d-flex justify-content-between align-items-center mb-3"},ho=a(()=>o("option",{value:""},"Sort by",-1)),uo=a(()=>o("option",{value:"priceLowHigh"},"Price: Low to High",-1)),go=a(()=>o("option",{value:"priceHighLow"},"Price: High to Low",-1)),bo=a(()=>o("option",{value:"newest"},"Newest Arrivals",-1)),yo=[ho,uo,go,bo],fo={class:"row row-cols-1 row-cols-md-2 row-cols-lg-4 g-4"},xo={class:"card car-card h-100 position-relative"},wo=["src","alt"],So={class:"card-body d-flex flex-column"},vo={class:"text-muted"},Mo={class:"card-title"},To={class:"card-text"},ko={class:"card-text"},Eo={class:"mt-auto"},$o=a(()=>o("small",{class:"text-muted"},"Minimum Down Payment:",-1)),Lo={class:"mb-0"},Do=a(()=>o("br",null,null,-1)),Co=F("View More");function Oo(t,e,d,Vo,l,r){var _;const x=c("Types"),w=c("Manufactures"),S=c("Models"),v=c("DriverType"),M=c("Link");return p(),m("div",R,[o("div",U,[o("div",q,[o("div",{class:y(["p-3 filter-sidebar",{"sticky-filter":l.isSticky}])},[o("div",G,[Q,o("div",j,[f(o("input",{type:"text",class:"form-control rounded mb-2",placeholder:"Search vehicles...","onUpdate:modelValue":e[0]||(e[0]=s=>l.keyword=s)},null,512),[[E,l.keyword]]),o("div",Y,[o("button",{class:"btn btn-primary",onClick:e[1]||(e[1]=(...s)=>r.search&&r.search(...s))},"Search"),o("button",{class:"btn btn-secondary",onClick:e[2]||(e[2]=(...s)=>r.clearSearch&&r.clearSearch(...s))},"Clear")])]),o("div",z,[o("div",W,[Z,o("div",J,[o("div",K,[n(x)])])]),o("div",X,[oo,o("div",so,[o("div",eo,[n(w)])])]),o("div",to,[ao,o("div",io,[o("div",ro,[n(S)])])]),o("div",lo,[co,o("div",no,[o("div",po,[n(v)])])])])])],2)]),o("div",mo,[o("div",_o,[f(o("select",{class:"form-select w-auto ms-auto","onUpdate:modelValue":e[3]||(e[3]=s=>l.sortBy=s),onChange:e[4]||(e[4]=(...s)=>r.applySort&&r.applySort(...s))},yo,544),[[$,l.sortBy]])]),o("div",fo,[(p(!0),m(L,null,D((_=t.$page.props)==null?void 0:_.vehicles,s=>{var h,u,g;return p(),m("div",{class:"col",key:s.id},[o("div",xo,[o("span",{class:y(["badge badge-corner",s.latest?"bg-success":"bg-primary"])},i(s.latest?"NEW ARRIVAL":"ON DEMAND"),3),o("img",{src:(h=s.media.find(T=>{var b;return((b=T.custom_properties)==null?void 0:b.type)==="vehicle_main"}))==null?void 0:h.original_url,class:"card-img-top",alt:s.model+" "+s.model,style:{height:"200px","object-fit":"cover"}},null,8,wo),o("div",So,[o("small",vo,"chassis_no "+i(s.chassis_no),1),o("h5",Mo,i(s.year)+" "+i((u=s==null?void 0:s.manufacture)==null?void 0:u.title)+" "+i((g=s==null?void 0:s.vehicle_model)==null?void 0:g.title),1),o("p",To,i(s.drive_type),1),o("p",ko,i(s.seats)+"-Seater",1),o("div",Eo,[$o,o("p",Lo,"$"+i(s.initial_payment),1)]),Do,n(M,{class:"btn btn-blue-gradient btn-sm text-capitalize mt-auto",href:t.route("product",{model:t.$root.stringToSlug(s.manufacture.title),slug:t.$root.stringToSlug(s.manufacture.title)+"-"+t.$root.stringToSlug(s.vehicle_model.title),id:s.id})},{default:C(()=>[Co]),_:2},1032,["href"])])])])}),128))])])])])}const Io=H(I,[["render",Oo],["__scopeId","data-v-c0886262"]]);export{Io as default};
