import{A as m}from"./AppLayout-BXyTYlgl.js";import{S as p,Y as b,R as g,m as i,p as y,q as f,s as t,Q as l,M as s,x as c,P as v,O as S,y as x,X as P}from"./index-DcvvkuKg.js";import{_ as k}from"./_plugin-vue_export-helper-DlAUqK2U.js";const w={components:{AppLayout:m,Link:p},props:{order:Object,products:Array},data(){return{status:this.order.status||"",submitting:!1}},methods:{updateStatus(){this.status&&(this.submitting=!0,b.Inertia.post(route("pharmacy.status.update",this.order.id),{status:this.status},{onFinish:()=>this.submitting=!1,onSuccess:()=>{this.$root.showMessage("success","Success","Status updated successfully.")},onError:()=>{this.$root.showMessage("error","Error","Failed to update status.")}}))}}},A={class:"card p-4"},L=t("h4",null,"Order Details",-1),B={class:"mb-2"},C=t("strong",null,"Patient:",-1),F={class:"mb-2"},M=t("strong",null,"Pharmacy:",-1),R={class:"mb-2"},U=t("strong",null,"Status:",-1),V={class:"mb-2"},D=t("strong",null,"Payment:",-1),E=t("h5",{class:"mt-4"},"Products",-1),O={class:"table table-bordered"},T=t("thead",null,[t("tr",null,[t("th",null,"Product"),t("th",null,"Price (Rs.)"),t("th",null,"Qty"),t("th",null,"Total (Rs.)")])],-1),q={class:"text-end"},N={class:"mb-3"},Q=t("label",null,[t("strong",null,"Update Status")],-1),j={class:"d-flex align-items-center gap-2"},I=t("option",{disabled:"",value:""},"Select status",-1),X=t("option",{value:"completed"},"Completed",-1),Y=t("option",{value:"shipped"},"Shipped",-1),z=[I,X,Y],G=["disabled"];function H(J,a,o,K,n,r){const _=g("AppLayout");return i(),y(_,null,{default:f(()=>{var d,u;return[t("div",A,[L,t("div",B,[C,l(" "+s(((u=(d=o.order.prescription)==null?void 0:d.patient)==null?void 0:u.name)??"â€”"),1)]),t("div",F,[M,l(" "+s(o.order.pharmacy_name),1)]),t("div",R,[U,l(" "+s(o.order.status),1)]),t("div",V,[D,l(" "+s(o.order.payment_status),1)]),E,t("table",O,[T,t("tbody",null,[(i(!0),c(S,null,v(o.products,(e,h)=>(i(),c("tr",{key:h},[t("td",null,s(e.name),1),t("td",null,s(e.price),1),t("td",null,s(e.quantity),1),t("td",null,s(e.total.toFixed(2)),1)]))),128))])]),t("div",q,[t("strong",null,"Total Price: Rs. "+s(o.order.total_price),1)]),t("div",N,[Q,t("div",j,[x(t("select",{"onUpdate:modelValue":a[0]||(a[0]=e=>n.status=e),class:"form-control",style:{width:"200px"}},z,512),[[P,n.status]]),t("button",{class:"btn btn-main",onClick:a[1]||(a[1]=(...e)=>r.updateStatus&&r.updateStatus(...e)),disabled:!n.status||n.submitting},s(n.submitting?"Updating...":"Update"),9,G)])])])]}),_:1})}const tt=k(w,[["render",H]]);export{tt as default};
