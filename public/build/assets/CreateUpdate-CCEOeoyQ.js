import{S as b,N as v,U as a,m as y,p as V,q as p,s as e,H as w,y as C,V as S,M as d,t as l,Q as I,Y as U,Z as k}from"./index-DNn3JzHr.js";import{A as x,S as L}from"./AppLayout-CXqyQS37.js";import{F as A}from"./FileInputComponent-BJ8rIMbq.js";import{E as D}from"./Editor-B6gcDCJO.js";import{_ as O}from"./_plugin-vue_export-helper-DlAUqK2U.js";const j={components:{Link:b,AppLayout:x,Editor:D,FileInputComponent:A,SelectInputComponentVue:L},props:{errors:Object,allRoles:Object,backendUser:Object,branches:Array,service_types:Object,vehicle_manufacture:Object,testimonial:Object},data(){return{apiKey:"vw4ubmg1a3lka0446gbr2zl6hoyieci6cv2wpw8czi7giive",form:v({id:"",name:"",status:"",image:"",editorContent:""})}},mounted(){var s;this.testimonial&&(this.form.id=this.testimonial.id,this.form.name=this.testimonial.name,this.form.status=this.testimonial.status,this.form.editorContent=this.testimonial.editorContent);var t=(s=this.branch)==null?void 0:s.media.filter(i=>i.custom_properties.type=="galery");t&&t.length>0&&(t.forEach(i=>{this.form.images.push(i)}),this.form.galery_images=t.map(i=>({previewURL:i.original_url}))||[])},computed:{image(){return this.testimonial&&this.testimonial.media.length>0?this.testimonial.media[0].original_url:""}},methods:{submit(){this.form.post(this.testimonial?route("testimonials.update"):route("testimonials.store"),{onSuccess:()=>{this.form.reset(),this.$root.showMessage("success",'<span class="text-success">Success</span><br/>',"A Record Was Created Successfully! ")},onError:()=>{this.form.reset("password","password_confirmation"),this.$root.showMessage("error",'<span class="text-danger">Error</span><br>',"Something went wrong! ")}})}},handleDragOver(t){t.preventDefault()},handleDrop(t){t.preventDefault();const s=t.dataTransfer.files;console.log("Dropped files:",s);for(let i=0;i<s.length;i++){const m=s[i];m.previewURL=URL.createObjectURL(m),this.form.images.push(s[i])}},removeImage(t){this.form.removed_images.push(this.form.images[t]),this.form.galery_images.splice(t,1)[0]}},n=t=>(U("data-v-8a817676"),t=t(),k(),t),E={class:"row"},R={class:"card mb-4"},M=n(()=>e("div",{class:"card-header pb-0"},[e("h5",null,"Vehicle Testimonials"),e("p",null,"Manage Vehicle Testimonials.")],-1)),N=n(()=>e("hr",null,null,-1)),F={class:"card-body"},T={class:"row"},B={class:"mb-3 col-md-6"},q=n(()=>e("label",{for:"name",class:"form-label"},"Name",-1)),z={class:"text-danger"},K=n(()=>e("label",{for:"description",class:"form-label"},"Description",-1)),H={class:"mb-3 col-md-6"},Q=n(()=>e("label",{for:"image",class:"form-label me-3"},"Image",-1)),W=n(()=>e("br",null,null,-1)),Y={class:"text-danger"},Z={class:"mt-2"},G=["disabled"],J=I("Cancel");function P(t,s,i,m,o,c){const u=a("Editor"),f=a("FileInputComponent"),h=a("SelectInputComponentVue"),_=a("Link"),g=a("AppLayout");return y(),V(g,null,{default:p(()=>[e("div",E,[e("div",R,[M,N,e("div",F,[e("form",{id:"formAccountSettings",onSubmit:s[4]||(s[4]=w((...r)=>c.submit&&c.submit(...r),["prevent"]))},[e("div",T,[e("div",B,[q,C(e("input",{class:"form-control",type:"text",id:"name",name:"Name","onUpdate:modelValue":s[0]||(s[0]=r=>o.form.name=r)},null,512),[[S,o.form.name]]),e("div",z,d(o.form.errors.name),1)]),e("div",null,[K,l(u,{modelValue:o.form.editorContent,"onUpdate:modelValue":s[1]||(s[1]=r=>o.form.editorContent=r),"api-key":o.apiKey,init:{plugins:"lists link image table code help wordcount"}},null,8,["modelValue","api-key"])]),e("div",H,[Q,W,l(f,{isRequired:!1,id:"image",prvImage:c.image,modelValue:o.form.image,"onUpdate:modelValue":s[2]||(s[2]=r=>o.form.image=r)},null,8,["prvImage","modelValue"]),e("div",Y,d(o.form.errors.image),1)])]),l(h,{id:"status",label:"status",error:o.form.errors.status,options:[{id:"1",name:"Active"},{id:"0",name:"Inactive"}],modelValue:o.form.status,"onUpdate:modelValue":s[3]||(s[3]=r=>o.form.status=r)},null,8,["error","modelValue"]),e("div",Z,[e("button",{type:"submit",class:"btn btn-main me-2",disabled:o.form.processing},d(i.testimonial?"Update":"Save"),9,G),l(_,{class:"btn btn-outline-danger",href:t.route("testimonials.index")},{default:p(()=>[J]),_:1},8,["href"])])],32)])])])]),_:1})}const oe=O(j,[["render",P],["__scopeId","data-v-8a817676"]]);export{oe as default};
