import{V as v,N as g,R as m,m as a,p as y,q as _,s,x as c,F as x,H as V,y as n,U as l,M as t,t as f,Q as C}from"./index-DWSgxYrt.js";import{A as U,S}from"./AppLayout-eEzAgnG0.js";import{F as I}from"./FileInputComponent-fs3tx2AC.js";import{_ as A}from"./_plugin-vue_export-helper-DlAUqK2U.js";const k={components:{Link:v,AppLayout:U,FileInputComponent:I,SelectInputComponentVue:S},props:{errors:Object,allRoles:Object,backendUser:Object,branches:Array,service_types:Object,vehicle_types:Object,customer:Object},data(){return{form:g({id:"",name:"",status:"",email:"",phone:"",address:"",password:"",confirm_password:"",current_password:"",new_password:"",confirm_new_password:"",profile_image:""})}},mounted(){this.customer&&(this.form.id=this.customer.id,this.form.name=this.customer.name,this.form.status=this.customer.status,this.form.email=this.customer.email,this.form.address=this.customer.address,this.form.phone=this.customer.phone,this.form.enrolled_affiliate=this.customer.enrolled_affiliate,this.form.enrolled_affiliate_id=this.customer.enrolled_affiliate_id,this.form.password="")},computed:{Profile_Image(){return this.customer&&this.customer.media.length>0?this.customer.media[0].original_url:""}},methods:{enrollAffilate(d){this.form.post(route("affilate-customer.enroll",{id:d}))},submit(){this.form.post(this.customer?route("customer.update"):route("customer.store"),{onSuccess:()=>{this.form.reset(),this.$root.showMessage("success",'<span class="text-success">Success</span><br/>',"A Record Was Created Successfully! ")},onError:()=>{this.form.reset("password","password_confirmation"),this.$root.showMessage("error",'<span class="text-danger">Error</span><br>',"Something went wrong! ")}})}}},P={class:"row"},E={class:"card mb-4"},N=s("div",{class:"card-header pb-0"},[s("h5",null,"Employees"),s("p",null,"Manage Employees.")],-1),j=s("hr",null,null,-1),F={key:0,class:"alert alert-primary"},L={class:"d-flex align-items-center justify-content-between"},M=s("div",{class:"h5 text-primary mb-0"},"Enroll to Affiliate Program.",-1),O={class:"card-body"},B={class:"row"},R={class:"mb-3 col-md-6"},q=s("label",{for:"name",class:"form-label"},"Name",-1),D={class:"text-danger"},T={class:"mb-3 col-md-6"},H=s("label",{for:"name",class:"form-label"},"Email",-1),Q={class:"text-danger"},W={class:"mb-3 col-md-6"},z=s("label",{for:"name",class:"form-label"},"Phone",-1),G={class:"text-danger"},J={class:"mb-3 col-md-6"},K=s("label",{for:"name",class:"form-label"},"Address",-1),X={class:"text-danger"},Y={key:0},Z={class:"mb-3 col-md-6"},$=s("label",{for:"current_password",class:"form-label"},"Current Password",-1),ss={class:"text-danger"},os={class:"mb-3 col-md-6"},es=s("label",{for:"new_password",class:"form-label"},"New Password",-1),rs={class:"text-danger"},ts={class:"mb-3 col-md-6"},ns=s("label",{for:"confirm_new_password",class:"form-label"},"Confirm New Password",-1),ls={class:"text-danger"},is={key:1,class:"col-12"},ms={class:"row"},as={class:"mb-3 col-md-6"},ds=s("label",{for:"password",class:"form-label"},"Password",-1),cs={class:"text-danger"},fs={class:"mb-3 col-md-6"},ps=s("label",{for:"confirm_password",class:"form-label"},"Confirm Password",-1),_s={class:"text-danger"},us=s("div",{class:"mb-3 col-md-6"},[s("label",{for:"name",class:"form-label"})],-1),hs={class:"mb-3 col-md-6"},ws=s("label",{for:"profile_image",class:"form-label me-3"},"Profile Image",-1),bs=s("br",null,null,-1),vs={class:"text-danger"},gs={class:"mt-2"},ys=["disabled"],xs=C("Cancel");function Vs(d,e,p,Cs,o,i){const u=m("SelectInputComponentVue"),h=m("FileInputComponent"),w=m("Link"),b=m("AppLayout");return a(),y(b,null,{default:_(()=>[s("div",P,[s("div",E,[N,j,o.form.id&&o.form.enrolled_affiliate==1&&!o.form.enrolled_affiliate_id?(a(),c("div",F,[s("div",L,[M,s("button",{class:"btn btn-primary",onClick:e[0]||(e[0]=r=>i.enrollAffilate(o.form.id))},"Enroll")])])):x("",!0),s("div",O,[s("form",{id:"formAccountSettings",onSubmit:e[12]||(e[12]=V((...r)=>i.submit&&i.submit(...r),["prevent"]))},[s("div",B,[s("div",R,[q,n(s("input",{class:"form-control",type:"text",id:"name",name:"name","onUpdate:modelValue":e[1]||(e[1]=r=>o.form.name=r)},null,512),[[l,o.form.name]]),s("div",D,t(o.form.errors.name),1)]),s("div",T,[H,n(s("input",{class:"form-control",type:"email",id:"email",name:"email","onUpdate:modelValue":e[2]||(e[2]=r=>o.form.email=r)},null,512),[[l,o.form.email]]),s("div",Q,t(o.form.errors.email),1)]),s("div",W,[z,n(s("input",{class:"form-control",type:"number",id:"phone",name:"phone","onUpdate:modelValue":e[3]||(e[3]=r=>o.form.phone=r)},null,512),[[l,o.form.phone]]),s("div",G,t(o.form.errors.phone),1)]),s("div",J,[K,n(s("input",{class:"form-control",type:"text",id:"address",name:"address","onUpdate:modelValue":e[4]||(e[4]=r=>o.form.address=r)},null,512),[[l,o.form.address]]),s("div",X,t(o.form.errors.address),1)]),p.customer?(a(),c("div",Y,[s("div",Z,[$,n(s("input",{class:"form-control",type:"password",id:"current_password",name:"current_password","onUpdate:modelValue":e[5]||(e[5]=r=>o.form.current_password=r)},null,512),[[l,o.form.current_password]]),s("div",ss,t(o.form.errors.current_password),1)]),s("div",os,[es,n(s("input",{class:"form-control",type:"password",id:"new_password",name:"new_password","onUpdate:modelValue":e[6]||(e[6]=r=>o.form.new_password=r)},null,512),[[l,o.form.new_password]]),s("div",rs,t(o.form.errors.new_password),1)]),s("div",ts,[ns,n(s("input",{class:"form-control",type:"password",id:"confirm_new_password",name:"confirm_new_password","onUpdate:modelValue":e[7]||(e[7]=r=>o.form.confirm_new_password=r)},null,512),[[l,o.form.confirm_new_password]]),s("div",ls,t(o.form.errors.confirm_new_password),1)])])):(a(),c("div",is,[s("div",ms,[s("div",as,[ds,n(s("input",{class:"form-control",type:"password",id:"password",name:"password","onUpdate:modelValue":e[8]||(e[8]=r=>o.form.password=r)},null,512),[[l,o.form.password]]),s("div",cs,t(o.form.errors.password),1)]),s("div",fs,[ps,n(s("input",{class:"form-control",type:"password",id:"confirm_password",name:"confirm_password","onUpdate:modelValue":e[9]||(e[9]=r=>o.form.confirm_password=r)},null,512),[[l,o.form.confirm_password]]),s("div",_s,t(o.form.errors.confirm_password),1)])])])),f(u,{id:"status",label:"Status",error:o.form.errors.status,options:[{id:"1",name:"Active"},{id:"0",name:"Inactive"}],modelValue:o.form.status,"onUpdate:modelValue":e[10]||(e[10]=r=>o.form.status=r)},null,8,["error","modelValue"]),us,s("div",hs,[ws,bs,f(h,{isRequired:!1,id:"profile_image",prvImage:i.Profile_Image,modelValue:o.form.profile_image,"onUpdate:modelValue":e[11]||(e[11]=r=>o.form.profile_image=r)},null,8,["prvImage","modelValue"]),s("div",vs,t(o.form.errors.profile_image),1)])]),s("div",gs,[s("button",{type:"submit",class:"btn btn-main me-2",disabled:o.form.processing},t(p.customer?"Update":"Save"),9,ys),f(w,{class:"btn btn-outline-danger",href:d.route("customer.index")},{default:_(()=>[xs]),_:1},8,["href"])])],32)])])])]),_:1})}const ks=A(k,[["render",Vs]]);export{ks as default};
